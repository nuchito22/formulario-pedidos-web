<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Solicitud de Mandado | Cadeter√≠a</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="css/style.css" />
    <script defer src="js/app.js"></script>
  </head>
  <body>
    <main class="page">
      <section class="form-shell">
        <header class="form-header">
          <div class="brand-icon" aria-hidden="true">üì¶</div>
          <div>
            <h1>Solicitud de Mandado</h1>
            <p>Completa los datos para coordinar tu pedido en minutos.</p>
          </div>
        </header>

        <form id="pedidoForm" novalidate>
          <section class="section" aria-labelledby="datos-personales-title">
            <div class="section-heading">
              <h2 id="datos-personales-title">Datos del cliente</h2>
              <span class="section-note">Informaci√≥n imprescindible para contactarte.</span>
            </div>
            <div class="grid">
              <div class="field">
                <label for="nombre">Nombre completo *</label>
                <input type="text" id="nombre" name="nombre" autocomplete="name" required maxlength="80" placeholder="Ej: Ana L√≥pez" />
                <p class="helper-text" data-error-for="nombre"></p>
              </div>
              <div class="field">
                <label for="telefono">Tel√©fono de contacto *</label>
                <input type="tel" id="telefono" name="telefono" inputmode="tel" autocomplete="tel" required placeholder="Ej: 11 1234 5678" />
                <p class="helper-text" data-error-for="telefono"></p>
              </div>
            </div>
          </section>

          <section class="section" aria-labelledby="direcciones-title">
            <div class="section-heading">
              <h2 id="direcciones-title">Direcciones</h2>
              <span class="section-note">Detalla los puntos de retiro y entrega.</span>
            </div>
            <div class="grid">
              <div class="field field--full">
                <label for="direccionRecogida">Direcci√≥n de recogida *</label>
                <textarea id="direccionRecogida" name="direccionRecogida" required rows="3" placeholder="Calle, n√∫mero, piso, barrio, referencias..."></textarea>
                <p class="helper-text" data-error-for="direccionRecogida"></p>
              </div>
              <div class="field field--full">
                <label for="direccionEntrega">Direcci√≥n de entrega *</label>
                <textarea id="direccionEntrega" name="direccionEntrega" required rows="3" placeholder="Calle, n√∫mero, piso, barrio, referencias..."></textarea>
                <p class="helper-text" data-error-for="direccionEntrega"></p>
              </div>
            </div>
          </section>

          <section class="section" aria-labelledby="detalles-paquete-title">
            <div class="section-heading">
              <h2 id="detalles-paquete-title">Detalles del paquete</h2>
              <span class="section-note">Ay√∫danos a dimensionar el env√≠o.</span>
            </div>
            <div class="grid">
              <div class="field">
                <label for="urgencia">Urgencia *</label>
                <div class="urgency-wrapper">
                  <select id="urgencia" name="urgencia" required>
                    <option value="">Seleccionar urgencia</option>
                    <option value="Normal">Normal</option>
                    <option value="Urgente">Urgente</option>
                    <option value="Muy urgente">Muy urgente</option>
                  </select>
                  <span class="urgency-indicator" data-urgency-indicator>Selecciona una opci√≥n</span>
                </div>
                <p class="helper-text" data-error-for="urgencia"></p>
              </div>
              <div class="field">
                <label for="descripcion">Descripci√≥n del paquete *</label>
                <input type="text" id="descripcion" name="descripcion" required maxlength="120" placeholder="Ej: Documentos, caja mediana, paquete fr√°gil" />
                <p class="helper-text" data-error-for="descripcion"></p>
              </div>
            </div>

            <div class="grid">
              <div class="field">
                <label class="toggle">
                  <input type="checkbox" id="esGrande" name="esGrande" />
                  <span class="toggle-indicator" aria-hidden="true"></span>
                  <span>¬øEl paquete es voluminoso o supera 5 kg?</span>
                </label>
              </div>
              <div class="field conditional" data-conditional="esGrande">
                <label for="detallesTamano">Detalles del tama√±o</label>
                <input type="text" id="detallesTamano" name="detallesTamano" placeholder="Ej: 60x40 cm, requiere ba√∫l amplio" />
                <p class="helper-text" data-error-for="detallesTamano"></p>
              </div>
            </div>

            <div class="field field--full">
              <label for="indicaciones">Indicaciones adicionales</label>
              <textarea id="indicaciones" name="indicaciones" rows="2" placeholder="Observaciones, cuidados, instrucciones para el cadete..."></textarea>
            </div>
          </section>

          <section class="section" aria-labelledby="horarios-title">
            <div class="section-heading">
              <h2 id="horarios-title">Horarios</h2>
              <span class="section-note">Agrega ventanas horarias si son importantes.</span>
            </div>
            <div class="field">
              <label class="toggle">
                <input type="checkbox" id="usarHorarios" name="usarHorarios" />
                <span class="toggle-indicator" aria-hidden="true"></span>
                <span>Necesito especificar horarios</span>
              </label>
            </div>
            <div class="grid conditional" data-conditional="usarHorarios">
              <div class="field">
                <label for="horarioRetiro">Horario preferido de retiro</label>
                <input type="text" id="horarioRetiro" name="horarioRetiro" placeholder="Ej: entre 10:00 y 12:00" />
                <p class="helper-text" data-error-for="horarioRetiro"></p>
              </div>
              <div class="field">
                <label for="horarioEntrega">Horario preferido de entrega</label>
                <input type="text" id="horarioEntrega" name="horarioEntrega" placeholder="Ej: antes de las 18:00" />
                <p class="helper-text" data-error-for="horarioEntrega"></p>
              </div>
            </div>
          </section>

          <div class="form-actions">
            <button type="button" class="btn btn--ghost" id="previewBtn">
              <span aria-hidden="true">üëÅÔ∏è</span>
              Previsualizar
            </button>
            <button type="submit" class="btn btn--primary" id="submitBtn">
              <span aria-hidden="true">üì≤</span>
              Enviar pedido por WhatsApp
            </button>
          </div>
        </form>

        <section class="preview" id="previewSection" hidden aria-live="polite">
          <header>
            <h2>Previsualizaci√≥n del mensaje</h2>
            <p>Revisa el contenido que se abrir√° en WhatsApp.</p>
          </header>
          <pre id="previewMessage" class="preview__message"></pre>
        </section>
      </section>
    </main>

    <div class="toast" id="toast" role="status" aria-live="assertive" aria-atomic="true" hidden>
      <span id="toastMessage"></span>
    </div>

    <div class="backdrop" id="backdrop" hidden>
      <div class="dialog" role="alertdialog" aria-modal="true">
        <div class="dialog__icon" aria-hidden="true">‚úÖ</div>
        <h2>Pedido preparado</h2>
        <p>Se abri√≥ WhatsApp con tu mensaje listo para enviar.</p>
        <button type="button" class="btn btn--primary" id="closeDialogBtn">Entendido</button>
      </div>
    </div>
  </body>
</html>
